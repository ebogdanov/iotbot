# Telegram бот для управления IoT-устройствами через API

Проект был написан для личного использования для открытия домофона, используется жильцами многоквартирного домофона, в котором я проживаю.
DIY-альтернатива возможности открыть дверь как в приложениях Ключ от Ростелекома, Умный домофон от Дом.ру и т.д. 

На текущий момент поддерживает 2 провайдера:
- Tuya (SmartLife)
- Ewelink
- В планах добавить Умный Дом от Яндекса

Для хранения данных используется реляционная СУБД, в коде есть поддержка
- SQLite
- MySQL (MariaDB)
- PostgreSQL

## Настройка и запуск
Конфигурация производится через конфигурационный файл в YAML формате, пример с комментариями смотрите в папке conf/config.dist.yaml

В общем виде вам нужно будет:
- Получить доступ к облаку, и подготовить их
- Создать нового бота в Telegram через https://t.me/BotFather
- В IoT облаке создать сценарии, которые будет пытаться выполнить бот
- Решить нужна ли ролевая модель (т.е разные пользователи будут иметь доступ к разным сценариям)
- Описать все это в конфигурации

Запуск предполагается в контейнере, но можно и запустить только исполняемый файл.
По умолчанию конфигурационный файл ожидается в папке conf/config.yaml

./main --config=conf/config.yaml